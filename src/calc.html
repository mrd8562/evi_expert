<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Финансовый калькулятор</title>
  <style>
    * {
      box-sizing: border-box;
      font-family: "Roboto", sans-serif;
    }

    body {
      margin: 0;
      padding: 20px;
      background: #f5f5f5;
      color: #333;
    }

    .calculator {
      max-width: 600px;
      margin: auto;
      background: #fff;
      padding: 25px;
      border-radius: 10px;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }

    h2 {
      text-align: center;
      margin-bottom: 20px;
      font-weight: bold;
    }

    label {
      display: block;
      margin: 10px 0 5px;
      font-weight: 500;
    }

    input, select {
      width: 100%;
      padding: 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 16px;
    }

    input:invalid {
      border-color: red;
    }

    .btn {
      margin-top: 20px;
      background: #01B055;
      color: #fff;
      padding: 14px;
      width: 100%;
      border: none;
      border-radius: 8px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
    }

    .btn:hover {
      background: #02974a;
    }

    .result {
      margin-top: 20px;
      font-size: 18px;
      text-align: center;
      font-weight: bold;
    }

    @media (max-width: 480px) {
      h2 {
        font-size: 20px;
      }

      input, select {
        font-size: 14px;
      }
    }
  </style>
</head>
<body>

  <div class="calculator">
    <h2>Калькулятор финансовой ситуации</h2>
    <label>Ежемесячный доход</label>
    <input type="number" id="income" min="0" required />

    <label>Количество человек в семье</label>
    <input type="number" id="familyCount" min="1" required />

    <label>Сумма долга перед кредиторами</label>
    <input type="number" id="creditDebt" min="0" required />

    <label>Задолженность по коммунальным платежам</label>
    <input type="number" id="communalDebt" min="0" required />

    <label>Прожиточный минимум (по региону)</label>
    <select id="regionSelect" required>
      <option value="">Выберите регион</option>
    </select>

    <label>Расходы на детей, аренду, лекарства</label>
    <input type="number" id="otherExpenses" min="0" required />

    <button class="btn" onclick="calculate()">Рассчитать</button>

    <div class="result" id="result"></div>
  </div>

  <script>
    const regionData = {
      "Белгородская область": 14896,
      "Брянская область": 16314,
      "Владимирская область":	17201,
      "Воронежская область": 15605,
      "Ивановская область": 16669,
      "Калужская область": 17024,
      "Костромская область": 16314,
      "Курская область": 15428,
      "Липецкая область":	14718,
      "Москва": 23908,
      "Московская область": 19302,
      "Орловская область":	16492,
      "Рязанская область": 15782,
      "Смоленская область": 17556,
      "Тамбовская область": 14718,
      "Тверская область": 17378,
      "Тульская область": 17733,
      "Ярославская область": 17733,
      "Архангельская область": 20570,
      "Вологодская область": 17910,
      "Калининградская область": 18265,
      "Ленинградская область": 18974,
      "Мурманская область": 25390,
      "Ненецкий автономный округ": 29389,
      "Новгородская область": 17378,
      "Псковская область": 17556,
      "Республика Карелия": 19684,
      "Республика Коми": 20393,
      "Санкт-Петербург": 19329,
      "Республика Коми": 20393,
      "Санкт-Петербург": 19329,
      "Астраханская область": 17201,
      "Волгоградская область": 15250,
      "Республика Адыгея": 15250,
      "Республика Калмыкия": 17378,
      "Ростовская область": 16669,
      "Республика Крым": 17201,
      "Краснодарский край": 17024,
      "Севастополь": 18088,
      "Кабардино-Балкарская Республика": 18974,
      "Карачаево-Черкесская республика": 16669,
      "Республика Дагестан": 16137,
      "Республика Ингушетия": 16669,
      "Республика Северная Осетия — Алания": 15960,
      "Ставропольский край": 15960,
      "Чеченская Песпублика": 17024,
      "Кировская область": 15782,
      "Нижегородская область": 16669,
      "Оренбургская область": 15428,
      "Пензенская область": 14896,
      "Республика Башкортостан": 15782,
      "Республика Марий Эл": 15605,
      "Республика Мордовия": 15073,
      "Республика Татарстан": 15073,
      "Самарская область": 16669,
      "Саратовская область": 14896,
      "Пермский край": 16314,
      "Удмуртская Республика": 15782,
      "Ульяновская область": 15782,
      "Чувашская Республика": 15428,
      "Курганская область": 16669,
      "Свердловская область": 17556,
      "Тюменская область": 17733,
      "Ханты-Мансийский автономный округ — Югра": 21252,
      "Челябинская область": 16314,
      "Ямало-Ненецкий автономный округ": 24294,
      "Алтайский край": 15782,
      "Иркутская область": 18797,
      "Кемеровская область": 16137,
      "Красноярский край": 19684,
      "Новосибирская область": 17378,
      "Омская область": 15428,
      "Республика Алтай": 16846,
      "Республика Тыва": 17910,
      "Республика Хакасия": 18088,
      "Томская область": 17378,
      "Амурская область": 20393,
      "Еврейская автономная область": 22166,
      "Забайкальский край": 20748,
      "Камчатский край": 31210,
      "Приморский край": 21102,
      "Магаданская область": 30855,
      "Республика Бурятия": 19329,
      "Республика Саха (Якутия)": 26777,
      "Сахалинская область": 24117,
      "Хабаровский край": 21634,
      "Чукотский автономный округ": 46283
      // Донецкая Народная Республика	16,669
      // Луганская Народная Республика	16,669
      // Запорожская область	17,201
      // Херсонская область	17,201
    };

    const regionSelect = document.getElementById("regionSelect");

    for (const region in regionData) {
      const option = document.createElement("option");
      option.value = regionData[region];
      option.textContent = region;
      regionSelect.appendChild(option);
    }

    function formatNumber(num) {
      return num.toLocaleString("ru-RU");
    }

    function calculate() {
      const income = parseFloat(document.getElementById("income").value) || 0;
      const familyCount = parseInt(document.getElementById("familyCount").value) || 0;
      const creditDebt = parseFloat(document.getElementById("creditDebt").value) || 0;
      const communalDebt = parseFloat(document.getElementById("communalDebt").value) || 0;
      const otherExpenses = parseFloat(document.getElementById("otherExpenses").value) || 0;
      const minIncomePerPerson = parseFloat(regionSelect.value) || 0;

      if (!income || !familyCount || !creditDebt || !regionSelect.value) {
        alert("Пожалуйста, заполните все обязательные поля");
        return;
      }

      const totalMinIncome = minIncomePerPerson * familyCount;
      const repayableSum = (income - totalMinIncome - otherExpenses) * 36;
      const result = repayableSum - (creditDebt + communalDebt);

      const resultText = `
        <div>Возможная сумма к погашению за 3 года: <strong>${formatNumber(repayableSum.toFixed(2))} ₽</strong></div>
        <div>Разница с долгами: <strong style="color:${result < 0 ? 'red' : 'green'};">${formatNumber(result.toFixed(2))} ₽</strong></div>
        <div>${result < 0 ? "⚠️ Вы финансово несостоятельны" : "✅ Платёжеспособность положительная"}</div>
      `;

      document.getElementById("result").innerHTML = resultText;
    }
  </script>

</body>
</html>